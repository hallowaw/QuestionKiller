import{k as e,r as t,s,n as o,b as a,d as n,w as i,i as l,o as d,e as c,f as u,t as r,l as h,m as p,F as g,g as C,p as b,q as f,h as m,u as k,v,x as w,y as A,z as T,j as q,A as _}from"./index-iGyM-cqh.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";const y=x({data:()=>({question:{id:null,title:"",questionType:"",category:"",correctChoice:"",correctAnswerCount:0,createdAt:"",createdBy:"",updatedAt:"",updatedBy:"",note:"",wordBook:"",options:[]},selectedOption:"",selectedOptions:[],validationMessage:"",sidebarVisible:!1,noteContent:"",isFocused:!1}),onLoad(){this.fetchData()},methods:{fetchData(){const o=e("token");console.log("Token:",o),t({url:"http://localhost:9192/question/random",method:"GET",header:{token:o,"Content-Type":"application/json"},success:e=>{1===e.data.code?(this.question=e.data.data,console.log("数据是",this.question),this.selectedOption="",this.selectedOptions=[],this.noteContent=this.question.note||""):s({title:e.data.msg||"加载失败，请稍后重试",icon:"none",duration:2e3})},fail:()=>{s({title:"请求失败，请检查后端接口。",icon:"none",duration:2e3})}})},onOptionChange(e){this.selectedOption=e.detail.value},onCheckboxChange(e){this.selectedOptions=e.detail.value},submitAnswer(){const o=this.question.correctChoice?this.question.correctChoice.split(",").map((e=>e.trim().toUpperCase())):[];let a=!1;if("单选题"===this.question.questionType){a=this.selectedOption.trim().toUpperCase()===o[0],this.validationMessage=a?"恭喜你，回答正确！":`很遗憾，回答错误！正确答案是：${o[0]}`}else{const e=this.selectedOptions.map((e=>e.trim().toUpperCase()));a=o.length===e.length&&o.every((t=>e.includes(t))),this.validationMessage=a?"恭喜你，回答正确！":`很遗憾，回答错误！正确答案是：${o.join(", ")}`}const n=e("token"),i={id:this.question.id,correctAnswerCount:a?this.question.correctAnswerCount+1:this.question.correctAnswerCount,totalAnswerCount:this.question.totalAnswerCount+1};t({url:"http://localhost:9192/question/updateUserQuestionStats",method:"PUT",header:{token:n,"Content-Type":"application/json"},data:i,success:e=>{1===e.data.code?console.log("数据已更新"):s({title:"更新失败，请稍后重试",icon:"none",duration:2e3})},fail:()=>{s({title:"请求失败，请检查后端接口。",icon:"none",duration:2e3})}}),a&&setTimeout((()=>{this.fetchData(),this.validationMessage=""}),1e3)},toggleSidebar(){this.sidebarVisible=!this.sidebarVisible},submitNote(){const o=e("token");t({url:"http://localhost:9192/question/updateNote",method:"PUT",header:{token:o},data:{id:this.question.id,note:this.noteContent},success:e=>{1===e.data.code?s({title:"笔记已提交",icon:"success",duration:2e3}):s({title:"提交失败，请稍后重试",icon:"none",duration:2e3})},fail:()=>{s({title:"请求失败，请检查后端接口。",icon:"none",duration:2e3})}})},goToAdd(){this.sidebarVisible=!1,o({url:"/pages/addPage/addPage"})},goToSearchAndEditAndDelete(){this.sidebarVisible=!1,o({url:"/pages/searchAndEditAndDelete/searchAndEditAndDelete"})},goToFastAdd(){this.sidebarVisible=!1,o({url:"/pages/fastAddPage/fastAddPage"})},goToFastAddHelp(){this.sidebarVisible=!1,o({url:"/pages/fastAddPageHelp/fastAddPageHelp"})},goToHome(){this.sidebarVisible=!1,a({url:"/pages/index/index"})}}},[["render",function(e,t,s,o,a,x){const y=f,D=l,V=m,O=k,P=v,L=w,F=A,S=T,E=q,M=_;return d(),n(D,{class:"hello"},{default:i((()=>[c(D,{class:"header"},{default:i((()=>[c(y,{src:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M709.12%20939.52a40.96%2040.96%200%200%201-29.12-11.84L285.76%20541.76a41.6%2041.6%200%200%201%200-59.52L680%2096a41.6%2041.6%200%200%201%2058.24%2059.52L374.4%20512l363.84%20356.16a41.6%2041.6%200%200%201-29.12%2071.36z'%20/%3e%3c/svg%3e",alt:"上一题",class:"icon",onClick:e.goBack},null,8,["onClick"]),c(y,{src:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M512%20328c-100.8%200-184%2083.2-184%20184S411.2%20696%20512%20696%20696%20612.8%20696%20512%20612.8%20328%20512%20328z%20m0%20320c-75.2%200-136-60.8-136-136s60.8-136%20136-136%20136%2060.8%20136%20136-60.8%20136-136%20136z'%20/%3e%3cpath%20d='M857.6%20572.8c-20.8-12.8-33.6-35.2-33.6-60.8s12.8-46.4%2033.6-60.8c14.4-9.6%2020.8-27.2%2016-44.8-8-27.2-19.2-52.8-32-76.8-8-14.4-25.6-24-43.2-19.2-24%204.8-48-1.6-65.6-19.2-17.6-17.6-24-41.6-19.2-65.6%203.2-16-4.8-33.6-19.2-43.2-24-14.4-51.2-24-76.8-32-16-4.8-35.2%201.6-44.8%2016-12.8%2020.8-35.2%2033.6-60.8%2033.6s-46.4-12.8-60.8-33.6c-9.6-14.4-27.2-20.8-44.8-16-27.2%208-52.8%2019.2-76.8%2032-14.4%208-24%2025.6-19.2%2043.2%204.8%2024-1.6%2049.6-19.2%2065.6-17.6%2017.6-41.6%2024-65.6%2019.2-16-3.2-33.6%204.8-43.2%2019.2-14.4%2024-24%2051.2-32%2076.8-4.8%2016%201.6%2035.2%2016%2044.8%2020.8%2012.8%2033.6%2035.2%2033.6%2060.8s-12.8%2046.4-33.6%2060.8c-14.4%209.6-20.8%2027.2-16%2044.8%208%2027.2%2019.2%2052.8%2032%2076.8%208%2014.4%2025.6%2022.4%2043.2%2019.2%2024-4.8%2049.6%201.6%2065.6%2019.2%2017.6%2017.6%2024%2041.6%2019.2%2065.6-3.2%2016%204.8%2033.6%2019.2%2043.2%2024%2014.4%2051.2%2024%2076.8%2032%2016%204.8%2035.2-1.6%2044.8-16%2012.8-20.8%2035.2-33.6%2060.8-33.6s46.4%2012.8%2060.8%2033.6c8%2011.2%2020.8%2017.6%2033.6%2017.6%203.2%200%208%200%2011.2-1.6%2027.2-8%2052.8-19.2%2076.8-32%2014.4-8%2024-25.6%2019.2-43.2-4.8-24%201.6-49.6%2019.2-65.6%2017.6-17.6%2041.6-24%2065.6-19.2%2016%203.2%2033.6-4.8%2043.2-19.2%2014.4-24%2024-51.2%2032-76.8%204.8-17.6-1.6-35.2-16-44.8z%20m-56%2092.8c-38.4-6.4-76.8%206.4-104%2033.6-27.2%2027.2-40%2065.6-33.6%20104-17.6%209.6-36.8%2017.6-56%2024-22.4-30.4-57.6-49.6-97.6-49.6-38.4%200-73.6%2017.6-97.6%2049.6-19.2-6.4-38.4-14.4-56-24%206.4-38.4-6.4-76.8-33.6-104-27.2-27.2-65.6-40-104-33.6-9.6-17.6-17.6-36.8-24-56%2030.4-22.4%2049.6-57.6%2049.6-97.6%200-38.4-17.6-73.6-49.6-97.6%206.4-19.2%2014.4-38.4%2024-56%2038.4%206.4%2076.8-6.4%20104-33.6%2027.2-27.2%2040-65.6%2033.6-104%2017.6-9.6%2036.8-17.6%2056-24%2022.4%2030.4%2057.6%2049.6%2097.6%2049.6%2038.4%200%2073.6-17.6%2097.6-49.6%2019.2%206.4%2038.4%2014.4%2056%2024-6.4%2038.4%206.4%2076.8%2033.6%20104%2027.2%2027.2%2065.6%2040%20104%2033.6%209.6%2017.6%2017.6%2036.8%2024%2056-30.4%2022.4-49.6%2057.6-49.6%2097.6%200%2038.4%2017.6%2073.6%2049.6%2097.6-6.4%2019.2-14.4%2038.4-24%2056z'%20/%3e%3c/svg%3e",alt:"设置",class:"icon",onClick:x.toggleSidebar},null,8,["onClick"])])),_:1}),c(V,{class:"question-title"},{default:i((()=>[u(r(a.question.title),1)])),_:1}),c(D,{class:"options-group"},{default:i((()=>["多选题"===a.question.questionType?(d(),n(L,{key:0,onChange:x.onCheckboxChange},{default:i((()=>[(d(!0),h(g,null,p(a.question.options,(e=>(d(),n(P,{key:e.id,class:"checkbox-option"},{default:i((()=>[c(O,{value:e.optionLabel},null,8,["value"]),u(" "+r(e.optionLabel)+". "+r(e.optionText),1)])),_:2},1024)))),128))])),_:1},8,["onChange"])):(d(),n(S,{key:1,onChange:x.onOptionChange},{default:i((()=>[(d(!0),h(g,null,p(a.question.options,(e=>(d(),n(P,{key:e.id,class:"radio-option"},{default:i((()=>[c(F,{value:e.optionLabel,checked:a.selectedOption===e.optionLabel},null,8,["value","checked"]),u(" "+r(e.optionLabel)+". "+r(e.optionText),1)])),_:2},1024)))),128))])),_:1},8,["onChange"]))])),_:1}),c(D,{class:"footer"},{default:i((()=>[c(V,{class:"questionType"},{default:i((()=>[u("题型: "+r(a.question.questionType),1)])),_:1}),c(V,{class:"correct-count"},{default:i((()=>[u("答对次数: "+r(a.question.correctAnswerCount),1)])),_:1})])),_:1}),c(E,{onClick:x.submitAnswer,class:"confirm-button"},{default:i((()=>[u("确认")])),_:1},8,["onClick"]),a.validationMessage?(d(),n(D,{key:0,class:"validation-message"},{default:i((()=>[c(V,null,{default:i((()=>[u(r(a.validationMessage),1)])),_:1})])),_:1})):C("",!0),c(D,null,{default:i((()=>[c(M,{modelValue:a.noteContent,"onUpdate:modelValue":t[0]||(t[0]=e=>a.noteContent=e),class:b(["note-textarea",{focused:a.isFocused}]),maxlength:1e4,onFocus:e.onFocusNote},null,8,["modelValue","onFocus","class"]),c(E,{onClick:x.submitNote,class:"submit-note-button"},{default:i((()=>[u("提交笔记")])),_:1},8,["onClick"])])),_:1}),a.sidebarVisible?(d(),n(D,{key:1,class:"sidebar"},{default:i((()=>[c(D,{class:"sidebar-button",onClick:x.goToAdd},{default:i((()=>[u("手动添加数据")])),_:1},8,["onClick"]),c(D,{class:"sidebar-button",onClick:x.goToFastAdd},{default:i((()=>[u("一键添加")])),_:1},8,["onClick"]),c(D,{class:"sidebar-button",onClick:x.goToSearchAndEditAndDelete},{default:i((()=>[u("查询修改与删除")])),_:1},8,["onClick"]),c(D,{class:"sidebar-button",onClick:x.goToFastAddHelp},{default:i((()=>[u("一键添加示例")])),_:1},8,["onClick"]),c(D,{class:"sidebar-button",onClick:x.goToHome},{default:i((()=>[u("返回首页")])),_:1},8,["onClick"])])),_:1})):C("",!0)])),_:1})}],["__scopeId","data-v-d335b7f8"]]);export{y as default};
